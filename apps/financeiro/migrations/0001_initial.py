# Generated by Django 5.1.5 on 2025-12-09 13:16

import datetime
import django.core.validators
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('core', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='CategoriaFinanceira',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100)),
                ('descricao', models.TextField(blank=True, null=True)),
                ('tipo_dre', models.CharField(choices=[('receita', 'Receita Bruta'), ('deducao', 'Deduções/Impostos'), ('custo', 'Custo'), ('despesa', 'Despesa Operacional'), ('financeiro', 'Resultado Financeiro'), ('outros', 'Outros')], default='receita', max_length=20)),
            ],
        ),
        migrations.CreateModel(
            name='ContaBancaria',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('nome', models.CharField(max_length=200)),
                ('banco', models.CharField(max_length=100)),
                ('agencia', models.CharField(max_length=20)),
                ('conta', models.CharField(max_length=30)),
                ('digito', models.CharField(blank=True, max_length=5)),
                ('tipo_conta', models.CharField(choices=[('corrente', 'Conta Corrente'), ('poupanca', 'Poupança'), ('investimento', 'Conta Investimento'), ('cartao', 'Cartão de Crédito'), ('caixa', 'Caixa')], default='corrente', max_length=15)),
                ('saldo_inicial', models.DecimalField(decimal_places=2, default=0, help_text='Saldo inicial da conta', max_digits=12)),
                ('saldo_atual', models.DecimalField(decimal_places=2, default=0, help_text='Saldo atual calculado', max_digits=12)),
                ('limite_credito', models.DecimalField(decimal_places=2, default=0, help_text='Limite de crédito/cheque especial', max_digits=12)),
                ('ativa', models.BooleanField(default=True)),
                ('conta_principal', models.BooleanField(default=False)),
                ('permite_saldo_negativo', models.BooleanField(default=False)),
                ('codigo_integracao', models.CharField(blank=True, max_length=50)),
                ('ultima_conciliacao', models.DateField(blank=True, null=True)),
                ('observacoes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Conta Bancária',
                'verbose_name_plural': 'Contas Bancárias',
                'ordering': ['-conta_principal', 'banco', 'conta'],
            },
        ),
        migrations.CreateModel(
            name='ContaPagar',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('numero_documento', models.CharField(max_length=50)),
                ('descricao', models.CharField(max_length=255)),
                ('tipo_conta', models.CharField(choices=[('fornecedor', 'Fornecedor'), ('funcionario', 'Funcionário'), ('servico', 'Serviço'), ('imposto', 'Imposto'), ('emprestimo', 'Empréstimo'), ('financiamento', 'Financiamento'), ('cartao', 'Cartão de Crédito'), ('outros', 'Outros')], max_length=15)),
                ('data_emissao', models.DateField()),
                ('data_vencimento', models.DateField()),
                ('data_pagamento', models.DateField(blank=True, null=True)),
                ('valor_original', models.DecimalField(decimal_places=2, max_digits=12)),
                ('valor_juros', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_multa', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_desconto', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_pago', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_saldo', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('numero_parcela', models.IntegerField(default=1)),
                ('total_parcelas', models.IntegerField(default=1)),
                ('status', models.CharField(choices=[('aberta', 'Aberta'), ('vencida', 'Vencida'), ('paga', 'Paga'), ('cancelada', 'Cancelada'), ('renegociada', 'Renegociada')], default='aberta', max_length=15)),
                ('observacoes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Conta a Pagar',
                'verbose_name_plural': 'Contas a Pagar',
                'ordering': ['data_vencimento'],
            },
        ),
        migrations.CreateModel(
            name='ContaPai',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_documento', models.CharField(max_length=50)),
                ('descricao', models.CharField(max_length=255)),
                ('data_emissao', models.DateField()),
                ('data_vencimento', models.DateField()),
                ('data_pagamento', models.DateField(blank=True, null=True)),
                ('data_recebimento', models.DateField(blank=True, null=True)),
                ('valor_original', models.DecimalField(decimal_places=2, max_digits=12)),
                ('valor_juros', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_multa', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_desconto', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_pago', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_recebido', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_saldo', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('status', models.CharField(choices=[('aberta', 'Aberta'), ('vencida', 'Vencida'), ('paga', 'Paga'), ('recebida', 'Recebida'), ('cancelada', 'Cancelada'), ('renegociada', 'Renegociada')], default='aberta', max_length=15)),
                ('observacoes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Conta Principal',
                'verbose_name_plural': 'Contas Principais',
                'ordering': ['data_vencimento'],
            },
        ),
        migrations.CreateModel(
            name='ContaReceber',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('numero_documento', models.CharField(max_length=50)),
                ('descricao', models.CharField(max_length=255)),
                ('tipo_conta', models.CharField(choices=[('venda', 'Venda'), ('servico', 'Serviço'), ('aluguel', 'Aluguel'), ('juros', 'Juros'), ('outros', 'Outros')], default='venda', max_length=15)),
                ('data_emissao', models.DateField()),
                ('data_vencimento', models.DateField()),
                ('data_recebimento', models.DateField(blank=True, null=True)),
                ('valor_original', models.DecimalField(decimal_places=2, max_digits=12)),
                ('valor_juros', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_multa', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_desconto', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_recebido', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_saldo', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('numero_parcela', models.IntegerField(default=1)),
                ('total_parcelas', models.IntegerField(default=1)),
                ('status', models.CharField(choices=[('aberta', 'Aberta'), ('vencida', 'Vencida'), ('recebida', 'Recebida'), ('cancelada', 'Cancelada'), ('renegociada', 'Renegociada')], default='aberta', max_length=15)),
                ('observacoes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Conta a Receber',
                'verbose_name_plural': 'Contas a Receber',
                'ordering': ['data_vencimento'],
            },
        ),
        migrations.CreateModel(
            name='FluxoCaixa',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_referencia', models.DateField()),
                ('tipo', models.CharField(choices=[('entrada', 'Entrada'), ('saida', 'Saída')], max_length=10)),
                ('valor_previsto', models.DecimalField(decimal_places=2, max_digits=12)),
                ('valor_realizado', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('categoria', models.CharField(max_length=100)),
                ('descricao', models.CharField(max_length=255)),
                ('realizado', models.BooleanField(default=False)),
                ('observacoes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Fluxo de Caixa',
                'verbose_name_plural': 'Fluxos de Caixa',
                'ordering': ['data_referencia'],
            },
        ),
        migrations.CreateModel(
            name='ImpostoTributo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('codigo_receita_agt', models.CharField(choices=[('01I', '01I - IVA - Regime Geral'), ('02I', '02I - IVA - Importação'), ('03I', '03I - IVA - Regime Geral'), ('04I', '04I - IVA - Regime Simplificado'), ('05I', '05I - IVA - Regime Transitório'), ('06I', '06I - IVA - Outros'), ('01A', '01A - IAC - Títulos do Banco Central'), ('02A', '02A - IAC - Bilhetes e Obrigações do Tesouro'), ('03A', '03A - IAC - Depósito à Ordem'), ('04A', '04A - IAC - Depósito a Prazo'), ('05A', '05A - IAC - Dividendos/Lucros'), ('06A', '06A - IAC - Juros de Suprimentos'), ('07A', '07A - IAC - Mais Valias'), ('08A', '08A - IAC - Operações do Mercado Monetário'), ('09A', '09A - IAC - Royalties'), ('10A', '10A - IAC - Outros'), ('01B', '01B - IRT - Grupo A - Conta de Outrem'), ('02B', '02B - IRT - Grupo B - Conta Própria'), ('03B', '03B - IRT - Grupo C - Atividades Comerciais e Industriais'), ('01C', '01C - II - Regime Geral'), ('02C', '02C - II - Regime Simplificado'), ('03C', '03C - II - Retenção na Fonte - Residentes'), ('04C', '04C - II - Retenção na Fonte - Não Residentes'), ('05C', '05C - II - Diamantes'), ('06C', '06C - II - Ouro'), ('07C', '07C - II - Outros Minerais'), ('01D', '01D - IEJ - Casino'), ('02D', '02D - IEJ - Totobola'), ('03D', '03D - IEJ - Totoloto'), ('04D', '04D - IEJ - Angomilhões'), ('05D', '05D - IEJ - Outros Tipos de Jogos Sociais'), ('06D', '06D - IEJ - Apostas Hípicas'), ('07D', '07D - IEJ - Rifas e Concursos'), ('08D', '08D - IEJ - Combinações Aleatórias'), ('09D', '09D - IEJ - Lotarias'), ('10D', '10D - IEJ - Outros Jogos Presenciais'), ('11D', '11D - IEJ - Prémios - Casino'), ('12D', '12D - IEJ - Online - Receita Bruta'), ('13D', '13D - IEJ - Online - Prémios'), ('14D', '14D - IEJ - Prémios - Totobola'), ('15D', '15D - IEJ - Prémios - Totoloto'), ('16D', '16D - IEJ - Prémios - Angomilhões'), ('17D', '17D - IEJ - Prémios Online'), ('18D', '18D - IEJ - Prémios - Apostas Hípicas'), ('19D', '19D - IEJ - Prémios - Apostas Hípicas'), ('20D', '20D - IEJ - Prémios - Lotarias'), ('01E', '01E - IP - Rendimentos do Petróleo'), ('02E', '02E - ITP - Transações de Petróleo'), ('01F', '01F - IP - Predial sobre a Detenção'), ('02F', '02F - IP - Predial sobre Transmissões Onerosas'), ('03F', '03F - IP - Predial sobre Transmissões Gratuitas'), ('04F', '04F - IP - Predial sobre a Renda'), ('01G', '01G - IBM - Veículos Automotores - Ligeiros'), ('02G', '02G - IBM - Veículos Automotores - Pesados'), ('03G', '03G - IBM - Motociclos, Ciclomotores, Triciclos e Quadriciclos'), ('04G', '04G - IBM - Veículos Automotores - Aeronaves'), ('05G', '05G - IBM - Veículos Automotores - Embarcações'), ('06G', '06G - IBM - Sucessões'), ('07G', '07G - IBM - Doações'), ('01H', '01H - IPD - Produção de Petróleo'), ('02H', '02H - IPD - Produção de Diamantes - Royalty'), ('03H', '03H - IPD - Produção de Ouro - Royalty'), ('04H', '04H - IPD - Produção de Outros Minerais - Royalty'), ('01J', '01J - IEC - Aeronaves e Embarcações de Recreio'), ('02J', '02J - IEC - Álcool e Outras Bebidas Alcoólicas'), ('03J', '03J - IEC - Armas de Fogo'), ('04J', '04J - IEC - Artefatos de Joalharia, Ourivesaria e Outros'), ('05J', '05J - IEC - Bebidas Açucaradas'), ('06J', '06J - IEC - Bebidas Energéticas'), ('07J', '07J - IEC - Cerveja'), ('08J', '08J - IEC - Fogo-de-artifício'), ('09J', '09J - IEC - Objetos de Arte, Coleção e Antiguidades'), ('10J', '10J - IEC - Produtos Derivados do Petróleo: Gasolina e Gasóleo'), ('11J', '11J - IEC - Tabaco e seus Derivados'), ('12J', '12J - IEC - Veículos Automóveis'), ('13J', '13J - IEC - Produtos Derivados do Petróleo: Gás Natural, Butano, Propano'), ('14J', '14J - IEC - Produtos Derivados do Petróleo - Outros'), ('01K', '01K - ICE - Exportação'), ('02K', '02K - ICE - Importação'), ('01L', '01L - IS - Contrato de Arrendamento'), ('02L', '02L - IS - Operações Bancárias'), ('03L', '03L - IS - Recibo de Quitação'), ('04L', '04L - IS - Operações Isentas (Regime Geral)'), ('05L', '05L - IS - Operações Isentas (Regime Simplificado)'), ('06L', '06L - IS - Outros'), ('01P', '01P - Multas Fiscais pela não Entrega da Declaração'), ('02P', '02P - Multas Fiscais pelo não Pagamento da Prestação da Dívida Tributária'), ('03P', '03P - Multa Substitutiva de Confisco Aduaneiro'), ('04P', '04P - Multas Fiscais'), ('05P', '05P - Multas Aduaneiras'), ('06P', '06P - Multas Institucionais'), ('07P', '07P - Adicional de 10% sobre as Multas Fiscais'), ('08P', '08P - Juros de Mora'), ('09P', '09P - Juros Compensatórios'), ('01Q', '01Q - Contribuições para o Fundo de Desenvolvimento Mineiro'), ('02Q', '02Q - Contribuições para Formação de Quadros Angolanos')], help_text='Código oficial da receita AGT', max_length=10)),
                ('codigo_imposto_interno', models.CharField(help_text='Código interno do sistema', max_length=30)),
                ('nome', models.CharField(max_length=200)),
                ('descricao', models.TextField(blank=True)),
                ('regime_tributario', models.CharField(choices=[('geral', 'Regime Geral'), ('simplificado', 'Regime Simplificado'), ('iva_geral', 'Regime do IVA - Geral'), ('iva_simplificado', 'Regime do IVA - Simplificado'), ('iva_transitorio', 'Regime Transitório do IVA'), ('excluido_iva', 'Regime de Exclusão do IVA'), ('especial_petrolifero_mineiro', 'Regime Especial do Sector Petrolífero e Mineiro'), ('retencao_fonte', 'Regime de Retenção na Fonte'), ('isencao', 'Regime de Isenção')], help_text='Regime tributário aplicável', max_length=30)),
                ('periodicidade', models.CharField(choices=[('mensal', 'Mensal'), ('trimestral', 'Trimestral'), ('semestral', 'Semestral'), ('anual', 'Anual'), ('eventual', 'Eventual')], default='mensal', max_length=15)),
                ('ano_referencia', models.IntegerField(help_text='Ano de referência da apuração')),
                ('mes_referencia', models.IntegerField(help_text='Mês de referência (1-12)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)])),
                ('data_inicio_periodo', models.DateField(help_text='Início do período de apuração')),
                ('data_fim_periodo', models.DateField(help_text='Fim do período de apuração')),
                ('data_vencimento', models.DateField(help_text='Data de vencimento do imposto')),
                ('data_pagamento', models.DateField(blank=True, help_text='Data efetiva do pagamento', null=True)),
                ('data_calculo', models.DateTimeField(blank=True, help_text='Data/hora do último cálculo', null=True)),
                ('data_declaracao', models.DateTimeField(blank=True, help_text='Data de envio da declaração à AGT', null=True)),
                ('metodo_calculo', models.CharField(choices=[('percentual_receita', 'Percentual sobre Receita'), ('percentual_lucro', 'Percentual sobre Lucro'), ('valor_fixo', 'Valor Fixo'), ('tabela_progressiva', 'Tabela Progressiva'), ('por_unidade', 'Por Unidade'), ('retencao_fonte', 'Retenção na Fonte'), ('outros', 'Outros')], default='percentual_receita', max_length=20)),
                ('aliquota_percentual', models.DecimalField(decimal_places=4, default=0, help_text='Alíquota em percentual (ex: 7.0000 para IVA 7%)', max_digits=8)),
                ('valor_fixo', models.DecimalField(decimal_places=2, default=0, help_text='Valor fixo do imposto (se aplicável)', max_digits=12, validators=[django.core.validators.MinValueValidator(0)])),
                ('base_calculo', models.DecimalField(decimal_places=2, default=0, help_text='Base de cálculo do imposto', max_digits=15)),
                ('receita_bruta', models.DecimalField(decimal_places=2, default=0, help_text='Receita bruta do período', max_digits=15)),
                ('deducoes_permitidas', models.DecimalField(decimal_places=2, default=0, help_text='Deduções permitidas pela legislação angolana', max_digits=12)),
                ('valor_calculado', models.DecimalField(decimal_places=2, default=0, help_text='Valor calculado do imposto em AOA', max_digits=12)),
                ('valor_devido', models.DecimalField(decimal_places=2, default=0, help_text='Valor devido (após compensações) em AOA', max_digits=12)),
                ('valor_pago', models.DecimalField(decimal_places=2, default=0, help_text='Valor efetivamente pago em AOA', max_digits=12)),
                ('valor_multa', models.DecimalField(decimal_places=2, default=0, help_text='Multa por atraso em AOA', max_digits=10)),
                ('valor_juros', models.DecimalField(decimal_places=2, default=0, help_text='Juros por atraso em AOA', max_digits=10)),
                ('total_agt', models.DecimalField(decimal_places=2, default=0, help_text='Valor total a pagar à AGT em AOA', max_digits=12)),
                ('creditos_periodo_anterior', models.DecimalField(decimal_places=2, default=0, help_text='Créditos do período anterior', max_digits=12)),
                ('compensacoes_utilizadas', models.DecimalField(decimal_places=2, default=0, help_text='Compensações utilizadas', max_digits=12)),
                ('situacao', models.CharField(choices=[('pendente', 'Pendente de Cálculo'), ('calculado', 'Calculado'), ('declarado', 'Declarado à AGT'), ('pago', 'Pago'), ('parcelado', 'Parcelado'), ('vencido', 'Vencido'), ('isento', 'Isento'), ('suspenso', 'Suspenso')], default='pendente', max_length=15)),
                ('numero_guia_agt', models.CharField(blank=True, help_text='Número da guia de recolhimento AGT', max_length=50)),
                ('numero_declaracao_agt', models.CharField(blank=True, help_text='Número da declaração na AGT', max_length=50)),
                ('calculo_automatico', models.BooleanField(default=True, help_text='Calcular automaticamente baseado nas vendas')),
                ('ultima_atualizacao_calculo', models.DateTimeField(blank=True, null=True)),
                ('observacoes', models.TextField(blank=True)),
                ('arquivo_declaracao_agt', models.FileField(blank=True, help_text='Arquivo da declaração enviada à AGT', null=True, upload_to='impostos/declaracoes/')),
                ('arquivo_guia_pagamento', models.FileField(blank=True, help_text='Arquivo da guia de pagamento AGT', null=True, upload_to='impostos/guias/')),
                ('arquivo_comprovante_pagamento', models.FileField(blank=True, help_text='Comprovante de pagamento', null=True, upload_to='impostos/comprovantes/')),
            ],
            options={
                'verbose_name': 'Imposto/Tributo Angola',
                'verbose_name_plural': 'Impostos/Tributos Angola',
                'ordering': ['-ano_referencia', '-mes_referencia', 'data_vencimento'],
            },
        ),
        migrations.CreateModel(
            name='LancamentoFinanceiro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('numero_lancamento', models.CharField(help_text='ID do lançamento contábil (ex: 202509-0001)', max_length=50, unique=True)),
                ('data_lancamento', models.DateField(default=datetime.date.today)),
                ('descricao', models.CharField(max_length=255)),
                ('tipo', models.CharField(choices=[('debito', 'Débito'), ('credito', 'Crédito')], max_length=10)),
                ('valor', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))])),
                ('transacao_uuid', models.UUIDField(default=uuid.uuid4, editable=False)),
            ],
            options={
                'verbose_name': 'Lançamento Contábil',
                'verbose_name_plural': 'Lançamentos Contábeis',
                'ordering': ['data_lancamento', 'numero_lancamento'],
            },
        ),
        migrations.CreateModel(
            name='MovimentacaoFinanceira',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('numero_documento', models.CharField(blank=True, max_length=50)),
                ('tipo_movimentacao', models.CharField(choices=[('entrada', 'Entrada'), ('saida', 'Saída'), ('transferencia', 'Transferência')], max_length=15)),
                ('tipo_documento', models.CharField(choices=[('dinheiro', 'Dinheiro'), ('cheque', 'Cheque'), ('transferencia', 'Transferência'), ('cartao', 'Cartão'), ('debito_automatico', 'Débito Automático'), ('outros', 'Outros')], max_length=20)),
                ('data_movimentacao', models.DateField()),
                ('data_vencimento', models.DateField(blank=True, null=True)),
                ('data_confirmacao', models.DateTimeField(blank=True, null=True)),
                ('valor', models.DecimalField(decimal_places=2, max_digits=12)),
                ('valor_juros', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_multa', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('valor_desconto', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('total', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('descricao', models.CharField(max_length=255)),
                ('observacoes', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('pendente', 'Pendente'), ('confirmada', 'Confirmada'), ('cancelada', 'Cancelada'), ('estornada', 'Estornada')], default='pendente', max_length=15)),
                ('confirmada', models.BooleanField(default=False)),
                ('conciliada', models.BooleanField(default=False)),
                ('data_conciliacao', models.DateField(blank=True, null=True)),
                ('numero_cheque', models.CharField(blank=True, max_length=20)),
                ('banco_cheque', models.CharField(blank=True, max_length=100)),
                ('emissor_cheque', models.CharField(blank=True, max_length=200)),
            ],
            options={
                'verbose_name': 'Movimentação Financeira',
                'verbose_name_plural': 'Movimentações Financeiras',
                'ordering': ['-data_movimentacao', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MovimentoCaixa',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('numero_movimento', models.CharField(help_text='Número sequencial do movimento', max_length=20, unique=True)),
                ('data_movimento', models.DateField(default=datetime.date.today)),
                ('hora_movimento', models.TimeField(auto_now_add=True)),
                ('tipo_movimento', models.CharField(choices=[('abertura', 'Abertura do Caixa'), ('fechamento', 'Fechamento do Caixa'), ('venda', 'Venda'), ('recebimento', 'Recebimento'), ('pagamento', 'Pagamento'), ('sangria', 'Sangria'), ('suprimento', 'Suprimento'), ('troco', 'Troco'), ('devolucao', 'Devolução'), ('desconto', 'Desconto'), ('cancelamento', 'Cancelamento'), ('ajuste', 'Ajuste'), ('outros', 'Outros')], max_length=15)),
                ('forma_pagamento', models.CharField(choices=[('dinheiro', 'Dinheiro'), ('cartao_debito', 'Cartão de Débito'), ('cartao_credito', 'Cartão de Crédito'), ('transferencia', 'Transferência'), ('cheque', 'Cheque'), ('vale', 'Vale'), ('outros', 'Outros')], default='dinheiro', max_length=20, verbose_name='Tipo')),
                ('valor', models.DecimalField(decimal_places=2, help_text='Valor do movimento (positivo para entradas, negativo para saídas)', max_digits=10)),
                ('valor_troco', models.DecimalField(decimal_places=2, default=0, help_text='Valor do troco dado', max_digits=8)),
                ('descricao', models.CharField(max_length=255)),
                ('observacoes', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('pendente', 'Pendente'), ('confirmado', 'Confirmado'), ('cancelado', 'Cancelado'), ('estornado', 'Estornado')], default='pendente', max_length=15)),
                ('confirmado', models.BooleanField(default=False)),
                ('data_confirmacao', models.DateTimeField(blank=True, null=True)),
                ('numero_documento', models.CharField(blank=True, max_length=50)),
                ('numero_cheque', models.CharField(blank=True, max_length=20)),
                ('banco_cheque', models.CharField(blank=True, max_length=100)),
                ('emissor_cheque', models.CharField(blank=True, max_length=200)),
                ('data_cheque', models.DateField(blank=True, null=True)),
                ('numero_cartao_mascarado', models.CharField(blank=True, max_length=20)),
                ('bandeira_cartao', models.CharField(blank=True, max_length=50)),
                ('numero_autorizacao', models.CharField(blank=True, max_length=20)),
                ('numero_comprovante', models.CharField(blank=True, max_length=30)),
            ],
            options={
                'verbose_name': 'Movimento de Caixa',
                'verbose_name_plural': 'Movimentos de Caixa',
                'ordering': ['-data_movimento', '-hora_movimento'],
            },
        ),
        migrations.CreateModel(
            name='OrcamentoFinanceiro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('ano', models.IntegerField()),
                ('mes', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)])),
                ('tipo', models.CharField(choices=[('receita', 'Receita'), ('despesa', 'Despesa')], max_length=10)),
                ('valor_orcado', models.DecimalField(decimal_places=2, max_digits=12)),
                ('valor_realizado', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('valor_variacao', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('percentual_realizacao', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('justificativa_variacao', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Orçamento Financeiro',
                'verbose_name_plural': 'Orçamentos Financeiros',
                'ordering': ['ano', 'mes'],
            },
        ),
        migrations.CreateModel(
            name='PlanoContas',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('codigo', models.CharField(help_text='Código da conta', max_length=20)),
                ('nome', models.CharField(max_length=200)),
                ('descricao', models.TextField(blank=True)),
                ('nivel', models.IntegerField(default=1, help_text='Nível hierárquico da conta')),
                ('tipo_conta', models.CharField(choices=[('receita', 'Receita'), ('despesa', 'Despesa'), ('ativo', 'Ativo'), ('passivo', 'Passivo'), ('patrimonio', 'Patrimônio Líquido')], max_length=15)),
                ('natureza', models.CharField(choices=[('debito', 'Débito'), ('credito', 'Crédito')], max_length=10)),
                ('aceita_lancamento', models.BooleanField(default=True, help_text='Permite lançamentos diretos')),
                ('ativa', models.BooleanField(default=True)),
                ('ordem', models.IntegerField(default=0, help_text='Ordem de exibição')),
            ],
            options={
                'verbose_name': 'Plano de Contas',
                'verbose_name_plural': 'Planos de Contas',
                'ordering': ['codigo'],
            },
        ),
        migrations.CreateModel(
            name='CentroCusto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('codigo', models.CharField(max_length=20, unique=True)),
                ('nome', models.CharField(max_length=200)),
                ('descricao', models.TextField(blank=True)),
                ('ativo', models.BooleanField(default=True)),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.empresa')),
                ('loja', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='core.loja')),
                ('responsavel', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Centro de Custo',
                'verbose_name_plural': 'Centros de Custo',
                'ordering': ['codigo'],
            },
        ),
        migrations.CreateModel(
            name='ConciliacaoBancaria',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('data_inicio', models.DateField()),
                ('data_fim', models.DateField()),
                ('saldo_banco_inicial', models.DecimalField(decimal_places=2, max_digits=12)),
                ('saldo_banco_final', models.DecimalField(decimal_places=2, max_digits=12)),
                ('saldo_sistema_inicial', models.DecimalField(decimal_places=2, max_digits=12)),
                ('saldo_sistema_final', models.DecimalField(decimal_places=2, max_digits=12)),
                ('diferenca', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('status', models.CharField(choices=[('pendente', 'Pendente'), ('conciliada', 'Conciliada'), ('divergente', 'Divergente')], default='pendente', max_length=15)),
                ('data_conciliacao', models.DateTimeField(blank=True, null=True)),
                ('observacoes', models.TextField(blank=True)),
                ('responsavel', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Conciliação Bancária',
                'verbose_name_plural': 'Conciliações Bancárias',
                'ordering': ['-data_fim'],
            },
        ),
        migrations.CreateModel(
            name='ConfiguracaoImposto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('regime_tributario_principal', models.CharField(choices=[('geral', 'Regime Geral'), ('simplificado', 'Regime Simplificado'), ('iva_geral', 'Regime do IVA - Geral'), ('iva_simplificado', 'Regime do IVA - Simplificado'), ('iva_transitorio', 'Regime Transitório do IVA'), ('excluido_iva', 'Regime de Exclusão do IVA'), ('especial_petrolifero_mineiro', 'Regime Especial do Sector Petrolífero e Mineiro'), ('retencao_fonte', 'Regime de Retenção na Fonte'), ('isencao', 'Regime de Isenção')], default='geral', help_text='Regime tributário principal da empresa', max_length=30)),
                ('regime_iva', models.CharField(choices=[('iva_geral', 'Regime do IVA - Geral'), ('iva_simplificado', 'Regime do IVA - Simplificado'), ('iva_transitorio', 'Regime Transitório do IVA'), ('excluido_iva', 'Regime de Exclusão do IVA')], default='iva_geral', help_text='Regime específico do IVA', max_length=30)),
                ('setor_atividade', models.CharField(choices=[('comercio', 'Comércio'), ('industria', 'Indústria'), ('servicos', 'Serviços'), ('construcao', 'Construção Civil'), ('bancario', 'Sector Bancário'), ('seguros', 'Sector de Seguros'), ('telecomunicacoes', 'Telecomunicações'), ('petroleo', 'Sector Petrolífero'), ('mineiro', 'Sector Mineiro'), ('transporte', 'Transporte'), ('turismo', 'Turismo e Hotelaria'), ('agricultura', 'Agricultura'), ('outros', 'Outros')], default='comercio', help_text='Setor principal de atividade da empresa', max_length=50)),
                ('provincia', models.CharField(choices=[('luanda', 'Luanda'), ('benguela', 'Benguela'), ('huila', 'Huíla'), ('cabinda', 'Cabinda'), ('huambo', 'Huambo'), ('cunene', 'Cunene'), ('namibe', 'Namibe'), ('cuando_cubango', 'Cuando Cubango'), ('lunda_norte', 'Lunda Norte'), ('lunda_sul', 'Lunda Sul'), ('malanje', 'Malanje'), ('moxico', 'Moxico'), ('bie', 'Bié'), ('kuanza_norte', 'Kwanza Norte'), ('kuanza_sul', 'Kwanza Sul'), ('uige', 'Uíge'), ('zaire', 'Zaire'), ('bengo', 'Bengo')], default='luanda', help_text='Província onde a empresa está localizada', max_length=30)),
                ('aliquota_iva_geral', models.DecimalField(decimal_places=2, default=Decimal('7.00'), help_text='Alíquota do IVA - Regime Geral (%) - Padrão: 7%', max_digits=5)),
                ('aliquota_iva_simplificado', models.DecimalField(decimal_places=2, default=Decimal('5.00'), help_text='Alíquota do IVA - Regime Simplificado (%) - Padrão: 5%', max_digits=5)),
                ('aliquota_iva_cabinda', models.DecimalField(decimal_places=2, default=Decimal('1.00'), help_text='Alíquota do IVA para Cabinda (%) - Padrão: 1%', max_digits=5)),
                ('aliquota_imposto_industrial_geral', models.DecimalField(decimal_places=2, default=Decimal('25.00'), help_text='Alíquota do Imposto Industrial - Geral (%) - Padrão: 25%', max_digits=5)),
                ('aliquota_imposto_industrial_especial', models.DecimalField(decimal_places=2, default=Decimal('35.00'), help_text='Alíquota do Imposto Industrial - Setores Especiais (%) - Padrão: 35%', max_digits=5)),
                ('aliquota_iac_depositos', models.DecimalField(decimal_places=2, default=Decimal('10.00'), help_text='Alíquota IAC - Depósitos (%) - Padrão: 10%', max_digits=5)),
                ('aliquota_iac_titulos', models.DecimalField(decimal_places=2, default=Decimal('15.00'), help_text='Alíquota IAC - Títulos (%) - Padrão: 15%', max_digits=5)),
                ('aliquota_imposto_selo', models.DecimalField(decimal_places=2, default=Decimal('0.20'), help_text='Alíquota do Imposto de Selo (%) - Padrão: 0,2%', max_digits=5)),
                ('aliquota_imposto_veiculos', models.DecimalField(decimal_places=2, default=Decimal('2.00'), help_text='Alíquota do Imposto sobre Veículos (%) - Padrão: 2%', max_digits=5)),
                ('eh_setor_petrolifero', models.BooleanField(default=False, help_text='Empresa pertence ao setor petrolífero')),
                ('eh_setor_mineiro', models.BooleanField(default=False, help_text='Empresa pertence ao setor mineiro')),
                ('eh_setor_diamantifero', models.BooleanField(default=False, help_text='Empresa pertence ao setor diamantífero')),
                ('impostos_aplicaveis', models.JSONField(blank=True, default=list, help_text='Lista de códigos AGT dos impostos aplicáveis à empresa')),
                ('gerar_impostos_automaticamente', models.BooleanField(default=True, help_text='Gerar impostos automaticamente no final do mês')),
                ('dia_vencimento_impostos', models.IntegerField(default=15, help_text='Dia do mês para vencimento dos impostos (padrão AGT: dia 15)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(31)])),
                ('aplicar_retencao_fonte', models.BooleanField(default=False, help_text='Empresa sujeita à retenção na fonte')),
                ('percentual_retencao_ii', models.DecimalField(decimal_places=2, default=Decimal('6.50'), help_text='Percentual de retenção do Imposto Industrial (%)', max_digits=5)),
                ('percentual_retencao_iva', models.DecimalField(decimal_places=2, default=Decimal('6.50'), help_text='Percentual de retenção do IVA (%)', max_digits=5)),
                ('percentual_multa_atraso', models.DecimalField(decimal_places=2, default=Decimal('10.00'), help_text='Percentual de multa por atraso (%) - Padrão: 10%', max_digits=5)),
                ('percentual_juros_mora_mensal', models.DecimalField(decimal_places=2, default=Decimal('1.50'), help_text='Percentual de juros de mora mensal (%) - Padrão: 1,5%', max_digits=5)),
                ('notificar_vencimentos', models.BooleanField(default=True, help_text='Notificar sobre vencimentos de impostos')),
                ('dias_antecedencia_notificacao', models.IntegerField(default=7, help_text='Dias de antecedência para notificação de vencimentos', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(30)])),
                ('observacoes', models.TextField(blank=True, help_text='Observações específicas sobre a configuração fiscal da empresa')),
                ('data_ultima_atualizacao_aliquotas', models.DateTimeField(auto_now=True, help_text='Data da última atualização das alíquotas')),
                ('centro_custo_impostos', models.ForeignKey(blank=True, help_text='Centro de custo padrão para impostos', null=True, on_delete=django.db.models.deletion.SET_NULL, to='financeiro.centrocusto')),
                ('empresa', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='configuracao_impostos_angola', to='core.empresa')),
            ],
            options={
                'verbose_name': 'Configuração de Impostos Angola',
                'verbose_name_plural': 'Configurações de Impostos Angola',
            },
        ),
    ]
